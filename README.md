# Дипломная работа: API сервис заказа товаров для розничных сетей

## Описание проекта
Данный проект представляет собой backend-часть информационной системы для автоматизации процесса закупок в розничной сети.  

Сервис позволяет:
- магазинам просматривать каталоги товаров
- управлять корзиной
- оформлять заказы  
- поставщикам — обновлять прайс-листы через YAML-файлы

---

## Стек технологий
- Python 3.13
- Django 6.0.2
- Django Rest Framework
- Token Authentication
- YAML (для импорта каталогов)
- SQLite (база данных включена в репозиторий для удобства проверки)

---

## Тестовые данные для проверки
Для быстрой проверки функционала без регистрации нового пользователя используйте следующие данные:

- **Email:** daria_test@example.com  
- **Пароль:** Daria_Diplom_2026!  
- **Токен:** `517b899f90663ac1af40f7c87de3d7bfb897fa82`

---

## Ключевая функциональность и реализация

### 1. Авторизация и безопасность
- Реализована регистрация и вход пользователей с генерацией уникального токена
- Все защищенные эндпоинты требуют передачи заголовка: Authorization: Token <token>.


---

### 2. Управление каталогом товаров
- Реализована возможность загрузки и обновления прайс-листа из файла `shop_data.yaml`
- Гибкая система категорий, товаров и характеристик в базе данных

---

### 3. Работа с заказами (Корзина)

#### Добавление
Реализован POST-запрос для наполнения корзины товарами

#### Оформление
Реализован PUT-запрос для конвертации корзины в полноценный заказ

#### Валидация
- Система проверяет наличие обязательных полей (`contact_id`, `state`)
- Проверяется наличие товаров в корзине перед оформлением

#### Integrity
- База данных защищена связями (Foreign Key)
- Это предотвращает оформление заказов на несуществующие адреса

---

### 4. Система уведомлений (Signals)
- Использованы Django Signals для отделения логики оформления заказа от уведомлений
- Сигналы инициализируются в `apps.py` через метод `ready()`
- Для тестирования настроен Console EmailBackend — при успешном оформлении заказа текст письма выводится в терминал сервера

---

## Как запустить проект

1. **Клонировать репозиторий**:
```bash
git clone https://github.com/Daria-Bog/netology-python-diplom-api.git
```
### 2. Установить зависимости:
```bash
pip install -r requirements.txt
```
### 3. Запустить сервер:
```bash
python manage.py runserver
```

## Примечание

База данных `db.sqlite3` уже содержит:

- актуальные миграции
- один тестовый заказ со статусом **"new"** для наглядности
